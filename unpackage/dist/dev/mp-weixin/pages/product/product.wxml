<view class="container"><view class="carousel"><swiper indicator-dots="{{true}}" circular="true" duration="400"><block wx:for="{{imgList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><swiper-item class="swiper-item"><view class="image-wrapper"><image class="loaded" src="{{item.src}}" mode="aspectFill"></image></view></swiper-item></block></swiper></view><view class="introduce-section"><text class="title">{{product.name}}</text><text class="approve">药食同源认证</text><view class="_br"></view><text class="title2">{{product.subTitle}}</text><view class="price-box"><text class="price-tip">¥</text><text class="price">{{product.price}}</text></view><view class="bot-row"><text>{{"销量: "+product.sale}}</text><text>{{"库存: "+product.stock}}</text></view></view><view class="c-list"><view data-event-opts="{{[['tap',[['toggleSpec',['$event']]]]]}}" class="c-row b-b" bindtap="__e"><text class="tit">购买类型</text><view class="con"><block wx:for="{{specSelected}}" wx:for-item="sItem" wx:for-index="sIndex" wx:key="sIndex"><text class="selected-text">{{''+sItem.name+''}}</text></block></view><text class="yticon icon-you"></text></view><view data-event-opts="{{[['tap',[['toggleAttr',['$event']]]]]}}" class="c-row b-b" style="{{'display:'+(attrList===[]?'block':'none')+';'}}" bindtap="__e"><text class="tit">商品参数</text><view class="con"><text class="con t-r">查看</text></view><text class="yticon icon-you"></text></view><view class="c-row b-b"><text class="tit">服务</text><view class="bz-list con"><block wx:for="{{serviceList}}" wx:for-item="item" wx:for-index="__i0__" wx:key="*this"><text>{{item}}</text></block><block wx:if="{{serviceList?false:true}}"><text>暂无</text></block></view></view></view><view class="brand-info"><view class="d-header"><text>商家信息</text></view><view data-event-opts="{{[['tap',[['navToBrandDetail']]]]}}" class="brand-box" bindtap="__e"><view class="image-wrapper"><image class="loaded" src="{{brand.logo}}" mode="aspectFit"></image></view><view class="title"><text>{{brand.brandName}}</text></view></view></view><view class="detail-desc"><view class="d-header"><text>商品详情</text></view><rich-text nodes="{{desc}}"></rich-text></view><view class="page-bottom"><navigator class="p-b-btn" url="/pages/index/index" open-type="switchTab"><text class="yticon icon-xiatubiao--copy"></text><text>首页</text></navigator><navigator class="p-b-btn" url="/pages/cart/cart" open-type="switchTab"><text class="yticon icon-gouwuche"></text><text>购物车</text></navigator><view data-event-opts="{{[['tap',[['toFavorite',['$event']]]]]}}" class="{{['p-b-btn',(favorite)?'active':'']}}" bindtap="__e"><text class="yticon icon-shoucang"></text><text>收藏</text></view><view class="action-btn-group"><button class=" action-btn no-border add-cart-btn" type="primary" data-event-opts="{{[['tap',[['addToCart',['$event']]]]]}}" bindtap="__e">加入购物车</button></view></view><view data-event-opts="{{[['touchmove',[['stopPrevent',['$event']]]],['tap',[['toggleSpec',['$event']]]]]}}" class="{{['popup','spec',specClass]}}" catchtouchmove="__e" bindtap="__e"><view class="mask"></view><view data-event-opts="{{[['tap',[['stopPrevent',['$event']]]]]}}" class="layer attr-content" catchtap="__e"><view class="a-t"><image src="{{product.pic}}"></image><view class="right"><text class="price">{{"¥"+product.price}}</text><text class="stock">{{"库存："+product.stock+"件"}}</text><view class="selected">已选：<block wx:for="{{specSelected}}" wx:for-item="sItem" wx:for-index="sIndex" wx:key="sIndex"><text class="selected-text">{{''+sItem.name+''}}</text></block></view></view></view><block wx:for="{{specList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="attr-list"><text>{{item.name}}</text><view class="item-list"><block wx:for="{{specChildList}}" wx:for-item="childItem" wx:for-index="childIndex" wx:key="childIndex"><block wx:if="{{childItem.pid===item.id}}"><text data-event-opts="{{[['tap',[['selectSpec',[childIndex,'$0'],[[['specChildList','',childIndex,'pid']]]]]]]}}" class="{{['tit',(childItem.selected)?'selected':'']}}" bindtap="__e">{{''+childItem.name+''}}</text></block></block></view></view></block><button data-event-opts="{{[['tap',[['toggleSpec',['$event']]]]]}}" class="btn" bindtap="__e">完成</button></view></view><view data-event-opts="{{[['touchmove',[['stopPrevent',['$event']]]],['tap',[['toggleAttr',['$event']]]]]}}" class="{{['popup','spec',attrClass]}}" catchtouchmove="__e" bindtap="__e"><view class="mask"></view><view data-event-opts="{{[['tap',[['stopPrevent',['$event']]]]]}}" class="layer attr-content no-padding" catchtap="__e"><view class="c-list"><block wx:for="{{attrList}}" wx:for-item="item" wx:for-index="__i1__" wx:key="key"><view class="c-row b-b"><text class="tit">{{item.key}}</text><view class="con"><text class="con t-r">{{item.value}}</text></view></view></block></view></view></view><share class="vue-ref" vue-id="1c037ce0-1" contentHeight="{{580}}" shareList="{{shareList}}" data-ref="share" bind:__l="__l"></share></view>